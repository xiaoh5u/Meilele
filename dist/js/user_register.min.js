"use strict";function check(e,r,o,a,n){e.test(r)?($(o).css("display","inline-block"),$(a).hide().removeClass("error"),$(n).removeClass("error"),$(n).attr("check_num","1")):($(o).hide(),$(a).css("display","inline-block").addClass("error"),$(n).addClass("error"),$(n).attr("check_num","0"),$(".code em").removeClass("error"))}function codeN(e){for(var r=[],o=48;o<=57;o++)r.push(String.fromCharCode(o));for(o=97;o<=122;o++)r.push(String.fromCharCode(o));for(o=65;o<=90;o++)r.push(String.fromCharCode(o));for(o=0;o<e;o++){var a=r[Math.floor(Math.random()*r.length)];$("#code_num>span:eq("+o+")").html(a).css("color",randomColor())}return""}function randomColor(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"}$(".registerBox").on("input",function(e){var r=event||e,o=r.target||r.srcElement;if("username"===o.id&&check(/^[a-zA-Z_\u4e00-\u9fa5][\w\u4e00-\u9fa5]{3,19}$/,$(o).val(),".userName i",".username_p",o),"password"===o.id&&(check(/(?![A-Z]+$)(?![a-z]+$)(?!\d+$)\S{6,19}$/,$(o).val(),".userPwd i",".password_p",o),$("#confirm").val("").removeClass("error"),$(".pwdConfirm i").css("display","none"),$(".confirm_p").hide().removeClass("error")),"confirm"===o.id&&$("#password").val()&&check(new RegExp("^"+$("#password").val()+"$"),$(o).val(),".pwdConfirm i",".confirm_p",o),"telephone"===o.id&&check(/^[1]\d{10}$/,$(o).val(),".telePhone i",".telephone_p",o),"input_code"===o.id){for(var a="",n=0;n<4;n++)a+=$("#code_num>span:eq("+n+")").html();check(new RegExp("^"+a.toUpperCase()+"$"),$(o).val().toUpperCase(),".code i",".code em",o)}}),layui.use("layer",function(){layui.layer}),$("#button").on("click",function(){for(var e=document.querySelectorAll(".registerBox input"),r=0,o=0;o<e.length-1;o++)r+=1*e[o].getAttribute("check_num");5===r?$.ajax({url:"http://localhost/php/project_php/user_register.php",type:"post",dataType:"json",data:{username:$("#username").val(),password:$("#password").val(),telephone:$("#telephone").val()},beforeSend:function(){layer.load()}}).then(function(e){var r=e.code,o=e.msg;e.data;layer.close(layer.index),r?layer.msg(o,{icon:1,time:2e3},function(){location.href="/dist/html/user_login.html"}):layer.msg(o,{icon:2})}):layer.msg("输入有误",function(){})}),$("#code_num").on("click",function(){codeN(4)}),codeN(4);
//# sourceMappingURL=user_register.min.js.map
